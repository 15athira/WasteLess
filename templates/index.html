{% extends "base.html" %}

{% block title %}Home -  WasteLess  ML{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-75">
            <div class="col-lg-6 mb-4 mb-lg-0 fade-in">
                <h1 class="display-3 fw-bold mb-4">
                    Reduce Food Waste with <span class="text-gradient">Machine Learning</span>
                </h1>
                <p class="lead mb-4">
                    Transform your college mess operations from guess-based cooking to data-driven decisions.
                    Save costs, reduce waste, and promote sustainability.
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    <a href="#data-entry" class="btn btn-primary btn-lg px-4">
                        <i class="bi bi-plus-circle me-2"></i>Add Data
                    </a>
                    <a href="/dashboard" class="btn btn-outline-primary btn-lg px-4">
                        <i class="bi bi-speedometer2 me-2"></i>View Dashboard
                    </a>
                </div>
            </div>
            <div class="col-lg-6 fade-in-delay">
                <div class="stats-grid">
                    <div class="stat-card glass-card">
                        <i class="bi bi-graph-down-arrow stat-icon text-success"></i>
                        <h3 class="stat-number">30-50%</h3>
                        <p class="stat-label">Waste Reduction</p>
                    </div>
                    <div class="stat-card glass-card">
                        <i class="bi bi-currency-rupee stat-icon text-warning"></i>
                        <h3 class="stat-number">â‚¹50K+</h3>
                        <p class="stat-label">Annual Savings</p>
                    </div>
                    <div class="stat-card glass-card">
                        <i class="bi bi-speedometer stat-icon text-info"></i>
                        <h3 class="stat-number">90%+</h3>
                        <p class="stat-label">Efficiency Target</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Data Entry Section -->
<section id="data-entry" class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card glass-card shadow-lg border-0 slide-up">
                    <div class="card-body p-4 p-md-5">
                        <div class="text-center mb-4">
                            <div class="icon-circle mx-auto mb-3">
                                <i class="bi bi-clipboard-data fs-1 text-primary"></i>
                            </div>
                            <h2 class="fw-bold mb-2">Enter Daily Mess Data</h2>
                            <p class="text-muted">Record today's operations to track and optimize</p>
                        </div>

                        <form action="/add" method="POST" class="needs-validation" novalidate>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="date" class="form-label fw-semibold">
                                        <i class="bi bi-calendar3 me-2"></i>Date
                                    </label>
                                    <input type="date" class="form-control form-control-lg" id="date" name="date"
                                        required>
                                    <div class="invalid-feedback">Please select a date.</div>
                                </div>

                                <div class="col-md-6">
                                    <label for="students" class="form-label fw-semibold">
                                        <i class="bi bi-people me-2"></i>Number of Students
                                    </label>
                                    <input type="number" class="form-control form-control-lg" id="students"
                                        name="students" min="1" required>
                                    <div class="invalid-feedback">Please enter number of students.</div>
                                </div>

                                <div class="col-md-6">
                                    <label for="cooked" class="form-label fw-semibold">
                                        <i class="bi bi-fire me-2"></i>Quantity Cooked (kg)
                                    </label>
                                    <input type="number" step="0.01" class="form-control form-control-lg" id="cooked"
                                        name="cooked" min="0.01" required>
                                    <div class="invalid-feedback">Please enter quantity cooked.</div>
                                </div>

                                <div class="col-md-6">
                                    <label for="leftover" class="form-label fw-semibold">
                                        <i class="bi bi-trash me-2"></i>Quantity Leftover (kg)
                                    </label>
                                    <input type="number" step="0.01" class="form-control form-control-lg" id="leftover"
                                        name="leftover" min="0" required>
                                    <div class="invalid-feedback">Please enter quantity leftover.</div>
                                </div>

                                <div class="col-12 mt-4">
                                    <button type="submit" class="btn btn-primary btn-lg w-100 py-3">
                                        <i class="bi bi-check-circle me-2"></i>Save Record
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold mb-3">Why Use This System?</h2>
            <p class="text-muted">Data-driven insights for sustainable mess management</p>
        </div>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card text-center p-4">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-graph-up-arrow"></i>
                    </div>
                    <h4 class="fw-semibold mb-3">Track Trends</h4>
                    <p class="text-muted">Visualize waste patterns over time and identify improvement opportunities</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center p-4">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-cpu"></i>
                    </div>
                    <h4 class="fw-semibold mb-3">ML Predictions</h4>
                    <p class="text-muted">Get accurate cooking quantity predictions based on historical data</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center p-4">
                    <div class="feature-icon mb-3">
                        <i class="bi bi-currency-rupee"></i>
                    </div>
                    <h4 class="fw-semibold mb-3">Cost Savings</h4>
                    <p class="text-muted">Calculate financial losses and optimize budget allocation</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Form validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()

    // Set today's date as default
    document.getElementById('date').valueAsDate = new Date();
</script>
{% endblock %}
